{% extends "dashboard/base.html" %}

{% load category_tags %}
{% load dashboard_tags %}
{% load i18n %}
{% load staticfiles %}

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{% static "oscar/dashboard/dist/main.css" %}" />
{% endblock %}

{% block extrastyles %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static "oscar/js/select2/select2.css" %}" />
    <link rel="stylesheet" href="{% static "oscar/css/select2-bootstrap.css" %}" />
    <link rel="stylesheet" href="{% static "oscar/js/bootstrap-datetimepicker/bootstrap-datetimepicker.css" %}" />
    <link rel="stylesheet" href="{% static "oscar/css/datetimepicker.css" %}" />
{% endblock %}

{% block title %}
    {% trans "Dashboard" %} | {{ block.super }}
{% endblock %}

{% block layout %}
    <input type="checkbox" id="menu-item-root" name="menu-5" class="sidebar-menu-checkbox">
    <div class="body-wrapper">

        {% block sidebar %}
            <div class="sidebar">
                <div class="brand-logo">
                    <img src="{% static "oscar/dashboard/images/oscar-logo.png" %}" height="50">
                </div>
                <div class="menu-container">
                    <input type="radio" id="menu-item-none" name="menu-1" class="sidebar-menu-checkbox">
                    <div class="overlay"></div>

                    {% block sidebar_menu %}
                    {% dashboard_navigation user as nav_items %}
                    <ul class="">
                        {% for item in nav_items %}
                        <li class="">
                            {% if item.has_children %}
                            <label for="menu-item-{{ item.id }}" class="has-children"><i class="fa {{ item.icon }}"></i>{{ item.label }}</label>
                            <input type="radio" id="menu-item-{{ item.id }}" name="menu-1" class="sidebar-menu-checkbox">
                            <div class="menu-panel">
                                <h2>{{ item.label }} <label for="menu-item-none"><i class="fa fa-times"></i></label></h2>
                                <ul>
                                    {% for subitem in item.children %}
                                    <li class=""><a class="nav-link" href="{{ subitem.url }}">{{ subitem.label }}</a></li>
                                    {% endfor %}
                                </ul>
                            </div>
                            {% else %}
                            <a class="nav-link" href="{{ item.url }}"><i class="fa {{ item.icon }}"></i>{{ item.label }}</a>
                            {% endif %}
                        </li>
                        {% endfor %}
                    </ul>
                    {% endblock sidebar_menu %}
                    <div class="bottom-nav">
                        <a href="{% url 'customer:summary' %}"><i class="fa fa-user-circle"></i> Account</a>
                        <a href="{% url 'dashboard:logout' %}"><i class="fa fa-sign-out"></i> Log out</a>
                    </div>
                </div>
            </div>
        {% endblock sidebar %}

        <div class="page-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12 main">
                        <div class="row page-heading">
                            <div class="col-md-4 col-xs-10">
                                <label for="menu-item-root" class="btn-sidebar-toggle hidden-md hidden-lg btn btn-primary"><i class="fa fa-bars"></i></label>
                                <h1>{% block headertext %}{% endblock %}</h1>
                            </div>
                            <div class="col-md-8 col-xs-2">
                                <div class="buttons pull-right">
                                    <button class="btn btn-default dropdown-toggle" type="button">
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                {% include 'dashboard/partials/alert_messages.html' %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                {% block content %}
                                    {% block dashboard_content %}{% endblock dashboard_content %}
                                {% endblock content %}
                            </div>
                        </div>
                    </div>
                </div>

                {% comment %}
                {% block breadcrumbs %}
                <ul class="breadcrumb">
                    <li><a href="{% url 'dashboard:index' %}">{% trans "Dashboard" %}</a></li>
                </ul>
                {% endblock %}
                {% endcomment %}
            </div><!-- /container -->
        </div>
    </div>

{% endblock layout %}

{% block extrascripts %}
    {{ block.super }}

    <script src="{% static "oscar/dashboard/dist/main.js" %}"></script>

    {# We don't use a fallback for tinyMCE as it dynamically loads several other files #}
    <script src="//cdn.tinymce.com/4/tinymce.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="//cdn.tinymce.com/4/jquery.tinymce.min.js" type="text/javascript" charset="utf-8"></script>

{% endblock %}
